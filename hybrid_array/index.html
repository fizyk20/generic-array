<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="RustCrypto: Hybrid Const Generic / Typenum Arrays"><title>hybrid_array - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-ca0dd0c4.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="hybrid_array" data-themes="" data-resource-suffix="" data-rustdoc-version="1.92.0-nightly (f04e3dfc8 2025-10-19)" data-channel="nightly" data-search-js="search-8d3311b9.js" data-stringdex-js="stringdex-c3e638e9.js" data-settings-js="settings-c38705f0.js" ><script src="../static.files/storage-e2aeef58.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-ce535bd0.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-263c88ec.css"></noscript><link rel="icon" href="https://raw.githubusercontent.com/RustCrypto/meta/master/logo.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Crate hybrid_array</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../hybrid_array/index.html"><img src="https://raw.githubusercontent.com/RustCrypto/meta/master/logo.svg" alt="logo"></a><h2><a href="../hybrid_array/index.html">hybrid_<wbr>array</a><span class="version">0.4.5</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#rustcrypto-hybrid-const-generic--typenum-arrays" title="RustCrypto: Hybrid Const Generic / Typenum Arrays">RustCrypto: Hybrid Const Generic / Typenum Arrays</a><ul><li><a href="#about" title="About">About</a></li><li><a href="#minimum-supported-rust-version-msrv-policy" title="Minimum Supported Rust Version (MSRV) Policy">Minimum Supported Rust Version (MSRV) Policy</a></li><li><a href="#license" title="License">License</a></li><li><a href="#features" title="Features">Features</a></li><li><a href="#usage" title="Usage">Usage</a></li><li><a href="#relationship-with-generic-array" title="Relationship with `generic-array`">Relationship with <code>generic-array</code></a></li><li><a href="#migrating-from-generic-array" title="Migrating from `generic-array`">Migrating from <code>generic-array</code></a></li></ul></li></ul><h3><a href="#reexports">Crate Items</a></h3><ul class="block"><li><a href="#reexports" title="Re-exports">Re-exports</a></li><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#traits" title="Traits">Traits</a></li><li><a href="#types" title="Type Aliases">Type Aliases</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><h1>Crate <span>hybrid_<wbr>array</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/hybrid_array/lib.rs.html#1-1131">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="rustcrypto-hybrid-const-generic--typenum-arrays"><a class="doc-anchor" href="#rustcrypto-hybrid-const-generic--typenum-arrays">§</a><a href="https://github.com/rustcrypto">RustCrypto</a>: Hybrid Const Generic / Typenum Arrays</h2>
<p><a href="https://crates.io/crates/hybrid-array"><img src="https://img.shields.io/crates/v/hybrid-array?logo=rust" alt="crate" /></a>
<a href="https://docs.rs/hybrid-array/"><img src="https://docs.rs/hybrid-array/badge.svg" alt="Docs" /></a>
<a href="https://github.com/RustCrypto/hybrid-array/actions/workflows/hybrid-array.yml?query=branch:master"><img src="https://github.com/RustCrypto/hybrid-array/actions/workflows/hybrid-array.yml/badge.svg?branch=master" alt="Build Status" /></a>
<img src="https://img.shields.io/badge/license-Apache2.0/MIT-blue.svg" alt="Apache2/MIT licensed" />
<img src="https://img.shields.io/badge/rustc-1.85+-blue.svg" alt="Rust Version" />
<a href="https://rustcrypto.zulipchat.com/#narrow/stream/260052-utils"><img src="https://img.shields.io/badge/zulip-join_chat-blue.svg" alt="Project Chat" /></a></p>
<p>Hybrid array type combining const generics with the expressiveness of
<a href="https://github.com/paholg/typenum"><code>typenum</code></a>-based constraints, providing an alternative to <a href="https://github.com/fizyk20/generic-array"><code>generic-array</code></a>
and a incremental transition path to const generics.</p>
<h3 id="about"><a class="doc-anchor" href="#about">§</a>About</h3>
<p>This crate uses <code>typenum</code> to enable the following features which aren’t yet
possible with the stable implementation of const generics:</p>
<ul>
<li><a href="https://github.com/rust-lang/rust/issues/60551">#60551: Associated constants in traits can not be used in const generics</a></li>
<li><a href="https://github.com/rust-lang/rust/issues/76560">#76560: Complex generic constants: <code>feature(generic_const_exprs)</code></a></li>
</ul>
<p>Internally the crate is built on const generics and provides traits which make
it possible to convert between const generic types and <code>typenum</code> types.</p>
<h3 id="minimum-supported-rust-version-msrv-policy"><a class="doc-anchor" href="#minimum-supported-rust-version-msrv-policy">§</a>Minimum Supported Rust Version (MSRV) Policy</h3>
<p>MSRV increases are not considered breaking changes and can happen in patch
releases.</p>
<p>The crate MSRV accounts for all supported targets and crate feature
combinations, excluding explicitly unstable features.</p>
<h3 id="license"><a class="doc-anchor" href="#license">§</a>License</h3>
<p>Licensed under either of:</p>
<ul>
<li><a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a></li>
<li><a href="http://opensource.org/licenses/MIT">MIT license</a></li>
</ul>
<p>at your option.</p>
<h4 id="contribution"><a class="doc-anchor" href="#contribution">§</a>Contribution</h4>
<p>Unless you explicitly state otherwise, any contribution intentionally submitted
for inclusion in the work by you, as defined in the Apache-2.0 license, shall be
dual licensed as above, without any additional terms or conditions.</p>
<h3 id="features"><a class="doc-anchor" href="#features">§</a>Features</h3>
<p>This crate exposes the following feature flags. The default is NO features.</p>
<ul>
<li><code>bytemuck</code>: impls the <code>Pod</code> and <code>Zeroable</code> traits</li>
<li><code>serde</code>: impls the <code>Deserialize</code> and <code>Serialize</code> traits for <code>Array</code></li>
<li><code>zeroize</code>: impls <a href="https://docs.rs/zeroize/latest/zeroize/trait.Zeroize.html"><code>Zeroize</code></a> for <code>Array&lt;T: Zeroize, U&gt;</code></li>
</ul>
<h3 id="usage"><a class="doc-anchor" href="#usage">§</a>Usage</h3>
<p>The two core types in this crate are as follows:</p>
<ul>
<li><a href="struct.Array.html" title="struct hybrid_array::Array"><code>Array&lt;T, U&gt;</code></a>: wrapper for <code>[T; N]</code> where <code>U</code> is an <a href="trait.ArraySize.html" title="trait hybrid_array::ArraySize"><code>ArraySize</code></a> provided by <a href="https://github.com/paholg/typenum"><code>typenum</code></a>
whose associated <a href="trait.ArraySize.html#associatedtype.ArrayType" title="associated type hybrid_array::ArraySize::ArrayType"><code>ArraySize::ArrayType&lt;T&gt;</code></a> determines the inner array size.</li>
<li><a href="type.ArrayN.html" title="type hybrid_array::ArrayN"><code>ArrayN&lt;T, N&gt;</code></a>: type alias for <a href="struct.Array.html" title="struct hybrid_array::Array"><code>Array</code></a> which is const generic around <code>const N: usize</code>.
This provides a linkage between const generics and <a href="https://github.com/paholg/typenum"><code>typenum</code></a>.</li>
</ul>
<p>The <a href="struct.Array.html" title="struct hybrid_array::Array"><code>Array</code></a> type has an inner <code>pub [T; N]</code> field, which means writing a literal can be
expressed as follows:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>hybrid_array::{Array, sizes::U4};

<span class="kw">let </span>arr: Array&lt;u8, U4&gt; = Array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]);</code></pre></div><h4 id="about-typenum"><a class="doc-anchor" href="#about-typenum">§</a>About <a href="https://github.com/paholg/typenum"><code>typenum</code></a></h4>
<p>The <a href="https://github.com/paholg/typenum"><code>typenum</code></a> crate provides a type-level implementation of numbers and arithmetic operations.</p>
<p>While <a href="https://github.com/paholg/typenum"><code>typenum</code></a> can be used to express arbitrary integers using the type system, the
<code>hybrid-array</code> crate is limited to the array sizes in the <a href="sizes/index.html" title="mod hybrid_array::sizes"><code>sizes</code></a> module, which have
names like <a href="sizes/type.U0.html" title="type hybrid_array::sizes::U0"><code>U0</code></a>, <a href="sizes/type.U1.html" title="type hybrid_array::sizes::U1"><code>U1</code></a>, <a href="sizes/type.U2.html" title="type hybrid_array::sizes::U2"><code>U2</code></a>, <a href="sizes/type.U3.html" title="type hybrid_array::sizes::U3"><code>U3</code></a>,
etc. All supported sizes will have an impl of <a href="trait.ArraySize.html" title="trait hybrid_array::ArraySize"><code>ArraySize</code></a>, which is the trait providing
linkage between <a href="https://github.com/paholg/typenum"><code>typenum</code></a>-based types and core arrays / const generics.</p>
<p><a href="trait.ArraySize.html" title="trait hybrid_array::ArraySize"><code>ArraySize</code></a> bounds on the <a href="../typenum/marker_traits/trait.Unsigned.html" title="trait typenum::marker_traits::Unsigned"><code>typenum::Unsigned</code></a> trait, which can be used to obtain integer
sizes of arrays via associated constants. For example, to obtain the size of an <code>ArraySize</code> as
a <code>usize</code>, use the associated <a href="../typenum/marker_traits/trait.Unsigned.html#associatedconstant.USIZE" title="associated constant typenum::marker_traits::Unsigned::USIZE"><code>typenum::Unsigned::USIZE</code></a> constant.</p>
<h4 id="asarrayref-and-asarraymut-traits"><a class="doc-anchor" href="#asarrayref-and-asarraymut-traits">§</a><a href="trait.AsArrayRef.html" title="trait hybrid_array::AsArrayRef"><code>AsArrayRef</code></a> and <a href="trait.AsArrayMut.html" title="trait hybrid_array::AsArrayMut"><code>AsArrayMut</code></a> traits</h4>
<p>These traits simplify obtaining references to <a href="struct.Array.html" title="struct hybrid_array::Array"><code>Array</code></a> and are impl’d for both <a href="struct.Array.html" title="struct hybrid_array::Array"><code>Array</code></a>
and <code>[T; N]</code>. They’re analogous to traits like <a href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef"><code>AsRef</code></a> and <a href="https://doc.rust-lang.org/nightly/core/convert/trait.AsMut.html" title="trait core::convert::AsMut"><code>AsMut</code></a>.</p>
<p>They make it possible to write code which uses <code>[T; N]</code> or <code>&amp;[T; N]</code> in the external facing
API which can obtain references to <code>&amp;Array</code> and call other functions which accept such
references, without the caller having to use <code>Array</code> in their code and while still supporting
generic sizes.</p>
<p>For more information and a code example, see <a href="trait.AsArrayRef.html" title="trait hybrid_array::AsArrayRef"><code>AsArrayRef</code></a>.</p>
<h3 id="relationship-with-generic-array"><a class="doc-anchor" href="#relationship-with-generic-array">§</a>Relationship with <code>generic-array</code></h3>
<p><code>hybrid-array</code> is directly inspired by the <a href="https://github.com/fizyk20/generic-array"><code>generic-array</code></a> crate.</p>
<p>However, where <code>generic-array</code> predates const generics and uses a core which is built
on <code>unsafe</code> code, <code>hybrid-array</code>’s core implementation is built on safe code and const
generic implementations. This allows the inner <code>[T; N]</code> field of an <code>Array</code> to be <code>pub</code> as
noted above, and in general for the implementation to be significantly simpler, easier-to-audit,
and with significantly less use of <code>unsafe</code>.</p>
<p>The only places <code>hybrid-array</code> uses unsafe are where it is absolutely necessary, primarily
for reference conversions between <code>Array&lt;T, U&gt;</code> and <code>[T; N]</code>, and also to provide features
which are not yet stable in <code>core</code>/<code>std</code>, such as <a href="struct.Array.html#method.try_from_fn" title="associated function hybrid_array::Array::try_from_fn"><code>Array::try_from_fn</code></a>.</p>
<h3 id="migrating-from-generic-array"><a class="doc-anchor" href="#migrating-from-generic-array">§</a>Migrating from <code>generic-array</code></h3>
<p><em>NOTE: this guide assumes a migration from <code>generic-array</code> v0.14</em></p>
<p><code>hybrid-array</code> has been designed to largely be a drop-in replacement for
<code>generic-array</code>, albeit with a public inner array type and significantly less
<code>unsafe</code> code.</p>
<p>The bulk of the migration work can be accomplished by making the following find/replace-style
substitutions in your <code>.rs</code> files:</p>
<ul>
<li>Replace <code>generic_array</code> with <code>hybrid_array</code></li>
<li>Replace <code>GenericArray&lt;T, U&gt;</code> with <code>Array&lt;T, U&gt;</code></li>
<li>Replace <code>ArrayLength&lt;T&gt;</code> with <code>ArraySize</code></li>
<li>Replace usages of the <code>Concat</code> and <code>Split</code> traits with <a href="struct.Array.html#method.concat" title="method hybrid_array::Array::concat"><code>Array::concat</code></a> and <a href="struct.Array.html#method.split" title="method hybrid_array::Array::split"><code>Array::split</code></a></li>
<li>Replace <code>&lt;U as ArrayLength&lt;T&gt;&gt;::ArrayType</code> with <code>&lt;U as ArraySize&gt;::ArrayType&lt;T&gt;</code></li>
<li>Replace usages of the <code>arr![N; A, B, C]</code> macro with <code>Array([A, B, C])</code></li>
</ul>
<p>If you have any questions, please
<a href="https://github.com/RustCrypto/hybrid-array/discussions">start a discussion</a>.</p>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">§</a></h2><dl class="item-table reexports"><dt id="reexport.typenum"><code>pub use <a class="mod" href="../typenum/index.html" title="mod typenum">typenum</a>;</code></dt></dl><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><dl class="item-table"><dt><a class="mod" href="sizes/index.html" title="mod hybrid_array::sizes">sizes</a></dt><dd>Supported array sizes: <a href="../typenum/marker_traits/trait.Unsigned.html" title="trait typenum::marker_traits::Unsigned"><code>typenum::Unsigned</code></a> types with an <a href="trait.ArraySize.html" title="trait hybrid_array::ArraySize"><code>ArraySize</code></a> impl.</dd></dl><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.Array.html" title="struct hybrid_array::Array">Array</a></dt><dd><a href="struct.Array.html" title="struct hybrid_array::Array"><code>Array</code></a> is a newtype for an inner <code>[T; N]</code> array where <code>N</code> is determined by a generic
<a href="trait.ArraySize.html" title="trait hybrid_array::ArraySize"><code>ArraySize</code></a> parameter, which is a marker trait for a numeric value determined by ZSTs that
impl the <a href="../typenum/marker_traits/trait.Unsigned.html" title="trait typenum::marker_traits::Unsigned"><code>typenum::Unsigned</code></a> trait.</dd><dt><a class="struct" href="struct.TryFromIteratorError.html" title="struct hybrid_array::TryFromIteratorError">TryFrom<wbr>Iterator<wbr>Error</a></dt><dd>Couldn’t construct an array from an iterator because the number of items in the iterator
didn’t match the array size.</dd></dl><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><dl class="item-table"><dt><a class="trait" href="trait.ArraySize.html" title="trait hybrid_array::ArraySize">Array<wbr>Size</a></dt><dd>Trait which associates a <a href="https://doc.rust-lang.org/nightly/core/primitive.usize.html" title="primitive usize"><code>usize</code></a> size and <code>ArrayType</code> with a
<code>typenum</code>-provided <a href="../typenum/marker_traits/trait.Unsigned.html" title="trait typenum::marker_traits::Unsigned"><code>Unsigned</code></a> integer.</dd><dt><a class="trait" href="trait.AsArrayMut.html" title="trait hybrid_array::AsArrayMut">AsArray<wbr>Mut</a></dt><dd>Obtain a <code>&amp;mut Array</code> reference for a given type.</dd><dt><a class="trait" href="trait.AsArrayRef.html" title="trait hybrid_array::AsArrayRef">AsArray<wbr>Ref</a></dt><dd>Obtain an <code>&amp;Array</code> reference for a given type.</dd><dt><a class="trait" href="trait.AssocArraySize.html" title="trait hybrid_array::AssocArraySize">Assoc<wbr>Array<wbr>Size</a></dt><dd>Associates an <a href="trait.ArraySize.html" title="trait hybrid_array::ArraySize"><code>ArraySize</code></a> with a given type. Can be used to accept <code>[T; N]</code> const generic
arguments and convert to <a href="struct.Array.html" title="struct hybrid_array::Array"><code>Array</code></a> internally.</dd></dl><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">§</a></h2><dl class="item-table"><dt><a class="type" href="type.ArrayN.html" title="type hybrid_array::ArrayN">ArrayN</a></dt><dd>Type alias for <a href="struct.Array.html" title="struct hybrid_array::Array"><code>Array</code></a> which is const generic around a size <code>N</code>, ala <code>[T; N]</code>.</dd></dl></section></div></main></body></html>